
export const easySentences: string[] = [
  "Practice makes perfect.",
  "Look before you leap.",
  "Curiosity killed the cat.",
  "Kind words cost nothing.",
  "Blue sky, bright sun.",
  "The cat sat on the mat.",
  "A red apple is sweet.",
  "Big dogs run fast.",
  "I like to eat ice cream.",
  "The sun shines all day.",
  "Fish swim in the sea.",
  "Birds fly up high.",
  "My new toy is fun.",
  "Read a good book.",
  "Sing a happy song.",
  "The grass is green.",
  "Water is very wet.",
  "I see a yellow bus.",
  "My mom is very kind.",
  "He has a blue bike.",
  "She loves to draw.",
  "We play in the park.",
  "The moon is bright.",
  "Stars twinkle at night.",
  "I have ten fingers.",
  "My shoes are new.",
  "He runs very quickly.",
  "She jumps up high.",
  "They laugh out loud.",
  "A small boat floats.",
  "The tree is tall.",
  "Flowers smell nice.",
  "Rain falls from clouds.",
  "Snow is cold and white.",
  "I help my friends.",
  "Please share your toys.",
  "Thank you very much.",
  "Good morning to you.",
  "Sweet dreams tonight.",
  "Learning is so cool.",
  "I love my family.",
  "My pet is a dog.",
  "The frog is green.",
  "Pigs like to eat.",
  "Cows give us milk.",
  "Ducks swim in ponds.",
  "A bee makes honey.",
  "An owl sees at night.",
  "The fox is clever.",
  "A lion roars loudly."
];

export const mediumSentences: string[] = [
  "The early bird catches the worm.",
  "Actions speak louder than words.",
  "All that glitters is not gold.",
  "Every cloud has a silver lining.",
  "Honesty is the best policy.",
  "Laughter is the best medicine.",
  "Rome wasn't built in a day.",
  "Code flows like a river.",
  "Winter winds blow cold.",
  "Stars shine in dark night.",
  "Green grass grows fast.",
  "Old tales are often true.",
  "She sells sea shells by the sea shore.",
  "An apple a day keeps the doctor away.",
  "The pen is mightier than the sword.",
  "Two heads are better than one.",
  "Where there's a will, there's a way.",
  "Time flies when you're having fun.",
  "A stitch in time saves nine.",
  "Don't count your chickens before they hatch.",
  "A bird in the hand is worth two in the bush.",
  "Beauty is in the eye of the beholder.",
  "Cleanliness is next to godliness.",
  "Don't put all your eggs in one basket.",
  "Fortune favors the bold and brave.",
  "If you can't beat them, join them.",
  "Keep your friends close and your enemies closer.",
  "Necessity is the mother of invention always.",
  "Opportunity seldom knocks twice for anyone.",
  "The squeaky wheel gets the grease.",
  "There's no place like home for comfort.",
  "Adventures await those who seek them.",
  "Creative minds inspire new ideas.",
  "Digital landscapes are expanding rapidly.",
  "Exploring new horizons is exciting.",
  "Future technology will change lives.",
  "Global connections bring people together.",
  "Innovation drives progress forward.",
  "Journey through the virtual world.",
  "Knowledge empowers individuals greatly.",
  "Learning new skills is rewarding.",
  "Mysteries of the universe unfold.",
  "Navigating challenges builds strength.",
  "Open minds discover new paths.",
  "Patience is a virtue in life.",
  "Quality craftsmanship lasts longer.",
  "Resilience helps overcome obstacles.",
  "Silent moments offer deep reflection.",
  "Teamwork achieves greater success.",
  "Understanding others fosters empathy."
];

export const hardSentences: string[] = [
  "A quick brown fox jumps over the lazy dog.",
  "If it ain't broke, don't fix it.",
  "You can't judge a book by its cover.",
  "A journey of a thousand miles begins with a single step.",
  "The best things in life are free.",
  "To be or not to be, that is the question.",
  "All the world's a stage, and all the men and women merely players.",
  "The only thing we have to fear is fear itself.",
  "Ask not what your country can do for you; ask what you can do for your country.",
  "I think, therefore I am.",
  "Knowledge is power, and enthusiasm pulls the switch.",
  "Perseverance and spirit have done wonders in all ages.",
  "The quick onyx goblin jumps over the lazy dwarf.",
  "Pack my box with five dozen liquor jugs.",
  "Amazingly, few discotheques provide jukeboxes.",
  "Zebras zig and zebras zag with zealous zest.",
  "Whispering winds wove through weeping willows, creating eerie echoes.",
  "Extraterrestrial expeditions explored ethereal exoplanets for existence.",
  "Quizzical quotients quickly quantify quality, questioning qualifications.",
  "Bureaucratic balderdash bewildered brilliant bystanders, barring basic benefits.",
  "Juxtaposition of vibrant, kaleidoscopic zephyrs mystified weary travelers.",
  "Phantasmagorical projections flickered, illuminating byzantine architectural marvels.",
  "Exquisite, ephemeral chrysanthemums blossomed, perfuming the tranquil zen garden.",
  "Ubiquitous smartphones revolutionize communication, transforming global interactions profoundly.",
  "Cryptocurrency's decentralized ledger technology promises paradigmatic financial shifts.",
  "Bioengineering breakthroughs may soon eradicate hereditary diseases, extending human lifespans.",
  "Quantum computing's exponential processing power could solve currently intractable problems.",
  "Neuroplasticity demonstrates the brain's remarkable adaptability throughout an individual's life.",
  "Sophisticated algorithms analyze vast datasets, revealing previously undiscovered patterns.",
  "The enigmatic sphinx gazed impassively across the sun-scorched, shifting desert sands.",
  "Cacophonous symphonies of urban life blend with serene whispers of nocturnal tranquility.",
  "Existential angst often accompanies profound philosophical inquiry into life's meaning.",
  "Glyph-inscribed obelisks chronicled ancient pharaohs' dynastic triumphs and tribulations.",
  "Pneumonoultramicroscopicsilicovolcanokoniosis is a lung disease caused by inhaling silica dust.",
  "Myriad, scintillating constellations bedeck the velvety, obsidian expanse of the cosmos.",
  "Synchronized swimmers performed intricate, kaleidoscopic patterns with balletic grace.",
  "The syzygy of celestial bodies created an awe-inspiring, albeit temporary, spectacle.",
  "Xylophones yielded zesty, jiving tunes, captivating the quiescent, nocturnal audience.",
  "Metamorphosis from a chrysalis to a resplendent butterfly exemplifies nature's artistry.",
  "Hierarchical organizational structures sometimes stifle innovation and creative problem-solving.",
  "Juxtaposing eloquent rhetoric with demonstrable facts strengthens persuasive arguments.",
  "A panoply of peculiar, phantasmagoric creatures paraded through the jester's fever dream.",
  "The querulous student, vexed by abstruse equations, sought the professor's elucidation.",
  "Beneath the cerulean waves, a vibrant coral ecosystem teemed with kaleidoscopic marine life.",
  "Zealous philatelists meticulously catalogued their voluminous, historically significant stamp collections.",
  "Quixotic adventurers often embark on chimerical quests, undeterred by pragmatic realities.",
  "Ubiquitous surveillance technologies raise profound questions regarding privacy and civil liberties.",
  "Exacerbated by geopolitical instability, global supply chains face unprecedented logistical challenges.",
  "The pyrotechnic extravaganza painted the nocturnal firmament with dazzling, ephemeral constellations.",
  "A lackadaisical approach to complex, multifaceted problems rarely yields satisfactory or optimal solutions."
];

const DEFAULT_FALLBACK_SENTENCE = "TypeMaster is ready for you to begin!";

export function getRandomSentence(lastSentence: string | null, score: number): string {
  let primaryPool: string[];
  let currentDifficulty = "";

  if (score < 10) { // Increased threshold for easy
    primaryPool = easySentences;
    currentDifficulty = "easy";
  } else if (score < 25) { // Adjusted threshold for medium
    primaryPool = mediumSentences;
    currentDifficulty = "medium";
  } else {
    primaryPool = hardSentences;
    currentDifficulty = "hard";
  }

  let poolToUse = primaryPool;

  // If the primary pool is empty for the current difficulty, try to fallback.
  if (primaryPool.length === 0) {
    console.warn(`Sentence pool for difficulty '${currentDifficulty}' is empty. Falling back.`);
    if (currentDifficulty === "easy") {
      poolToUse = mediumSentences.length > 0 ? mediumSentences : hardSentences;
    } else if (currentDifficulty === "medium") {
      poolToUse = hardSentences.length > 0 ? hardSentences : easySentences;
    } else { // hard
      poolToUse = mediumSentences.length > 0 ? mediumSentences : easySentences;
    }
  }

  // If all pools are effectively empty after fallbacks.
  if (poolToUse.length === 0) {
    const allDefinedSentences = [...easySentences, ...mediumSentences, ...hardSentences].filter(s => s && s.trim() !== "");
    if (allDefinedSentences.length > 0) {
        poolToUse = allDefinedSentences;
        console.warn("All specific difficulty pools were empty or exhausted. Using a sentence from any pool.");
    } else {
        console.error("All sentence pools are empty. Using default fallback sentence.");
        return DEFAULT_FALLBACK_SENTENCE;
    }
  }
  
  let newSentence: string;

  // If the chosen pool has only one sentence.
  if (poolToUse.length === 1) {
    newSentence = poolToUse[0];
    // If this single sentence is the same as the last one, it's unavoidable.
    // No console warning needed here as it's an expected outcome.
  } else {
    // Try to pick a sentence different from the last one.
    let attempts = 0;
    const maxAttempts = poolToUse.length * 2; // Give a reasonable number of tries
    do {
      newSentence = poolToUse[Math.floor(Math.random() * poolToUse.length)];
      attempts++;
    } while (newSentence === lastSentence && attempts < maxAttempts);

    if (newSentence === lastSentence && poolToUse.length > 1) {
        // This might happen if random chance keeps picking the same sentence after maxAttempts.
        // Or if all other sentences were somehow filtered out (not applicable here).
        // console.warn("Could not find a different sentence after multiple attempts, reusing last sentence type if pool size > 1.");
    }
  }
  return newSentence;
}
